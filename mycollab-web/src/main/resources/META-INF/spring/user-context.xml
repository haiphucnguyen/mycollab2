<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:osgi="http://www.springframework.org/schema/osgi"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.springframework.org/schema/osgi http://www.springframework.org/schema/osgi/spring-osgi.xsd">


	<!-- Spring Bean DAO -->
	<bean class="org.mybatis.spring.mapper.MapperFactoryBean" id="billingAccountDAO">
		<property name="sqlSessionTemplate" ref="sqlMapClient" />
		<property name="mapperInterface"
			value="com.esofthead.mycollab.module.user.dao.BillingAccountMapper" />
	</bean>

	<bean class="org.mybatis.spring.mapper.MapperFactoryBean" id="billingAccountExtDAO">
		<property name="sqlSessionTemplate" ref="sqlMapClient" />
		<property name="mapperInterface"
			value="com.esofthead.mycollab.module.user.dao.BillingAccountMapperExt" />
	</bean>

	<bean class="org.mybatis.spring.mapper.MapperFactoryBean" id="billingDAO">
		<property name="sqlSessionTemplate" ref="sqlMapClient" />
		<property name="mapperInterface"
			value="com.esofthead.mycollab.module.user.dao.BillingPlanMapper" />
	</bean>

	<bean class="org.mybatis.spring.mapper.MapperFactoryBean" id="userDAO">
		<property name="sqlSessionTemplate" ref="sqlMapClient" />
		<property name="mapperInterface"
			value="com.esofthead.mycollab.module.user.dao.UserMapper" />
	</bean>

	<bean class="org.mybatis.spring.mapper.MapperFactoryBean" id="userExtDAO">
		<property name="sqlSessionTemplate" ref="sqlMapClient" />
		<property name="mapperInterface"
			value="com.esofthead.mycollab.module.user.dao.UserMapperExt" />
	</bean>

	<bean class="org.mybatis.spring.mapper.MapperFactoryBean" id="roleuserDAO">
		<property name="sqlSessionTemplate" ref="sqlMapClient" />
		<property name="mapperInterface"
			value="com.esofthead.mycollab.module.user.dao.RoleUserMapper" />
	</bean>

	<bean class="org.mybatis.spring.mapper.MapperFactoryBean" id="roleDAO">
		<property name="sqlSessionTemplate" ref="sqlMapClient" />
		<property name="mapperInterface"
			value="com.esofthead.mycollab.module.user.dao.RoleMapper" />
	</bean>

	<bean class="org.mybatis.spring.mapper.MapperFactoryBean" id="roleExtDAO">
		<property name="sqlSessionTemplate" ref="sqlMapClient" />
		<property name="mapperInterface"
			value="com.esofthead.mycollab.module.user.dao.RoleMapperExt" />
	</bean>

	<bean class="org.mybatis.spring.mapper.MapperFactoryBean" id="rolePermissionDAO">
		<property name="sqlSessionTemplate" ref="sqlMapClient" />
		<property name="mapperInterface"
			value="com.esofthead.mycollab.module.user.dao.RolePermissionMapper" />
	</bean>

	<!-- Spring Bean Service -->
	<bean name="billingAccountService"
		class="com.esofthead.mycollab.module.user.service.mybatis.BillingAccountServiceImpl">
		<property name="daoObj" ref="billingAccountDAO" />
		<property name="billingAccountExtDAO" ref="billingAccountExtDAO" />
	</bean>

	<bean name="userServiceDB"
		class="com.esofthead.mycollab.module.user.service.mybatis.UserServiceDBImpl">
		<property name="daoObj" ref="userDAO" />
		<property name="roleuserDAO" ref="roleuserDAO" />
		<property name="userExtDAO" ref="userExtDAO" />
	</bean>

	<bean name="roleServiceDB"
		class="com.esofthead.mycollab.module.user.service.mybatis.RoleServiceDBImpl">
		<property name="daoObj" ref="roleDAO" />
		<property name="roleExtDAO" ref="roleExtDAO" />
	</bean>


	<bean name="rolePermissionService"
		class="com.esofthead.mycollab.module.user.service.mybatis.RolePermissionServiceImpl">
		<property name="daoObj" ref="rolePermissionDAO" />
		<property name="userExtDAO" ref="userExtDAO" />
	</bean>

	<bean name="securityService"
		class="com.esofthead.mycollab.module.user.service.impl.SecurityServiceImpl">
		<property name="accountService" ref="billingAccountService" />
		<property name="roleServiceDB" ref="roleServiceDB" />
		<property name="userServiceDB" ref="userServiceDB" />
		<property name="messageDispatcher" ref="messageDispatcher" />
	</bean>
</beans>
