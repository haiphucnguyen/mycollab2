<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.esofthead.mycollab.module.user.dao.RoleMapperExt">
    <sql id="querySearchCriteria">
        <if test="sAccountId != null">
          <![CDATA[
            ${sAccountId.operation} s_roles.sAccountId = #{sAccountId.value}
            ]]>
        </if>
    </sql>

    <select id="getTotalCount" resultType="int" parameterType="RoleSearchCriteria">
        SELECT count(*) as totalCount FROM s_roles
        <trim prefix="WHERE" prefixOverrides="AND | OR ">
            1=1 
            <include refid="com.esofthead.mycollab.module.user.dao.RoleMapperExt.querySearchCriteria" />
        </trim>
    </select>

    <select id="findPagableListByCriteria" resultMap="com.esofthead.mycollab.module.user.dao.RoleMapper.BaseResultMap"
            parameterType="RoleSearchCriteria">
        <![CDATA[
            SELECT s_roles.id, s_roles.rolename, s_roles.description, s_roles.sAccountId
            FROM s_roles
        ]]>
        <trim prefix="WHERE" prefixOverrides="AND | OR ">
            1=1 
            <include refid="com.esofthead.mycollab.module.user.dao.RoleMapperExt.querySearchCriteria" />
        </trim>
    </select>
</mapper>